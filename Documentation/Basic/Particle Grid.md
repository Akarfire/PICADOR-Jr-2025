
Множество частиц (ансамбль) хранится в сетке частиц (`ParticleGrid`). В каждой ячейке сетки хранится массив содержащихся в ней частиц. При движении частицы могут покидать пределы своих ячеек, в таком случае они перекладывается в другие ячейки. Размеры ячеек должны выбираться в соответсвтии со следующим условием: за одну итерацию симуляции частица не может переместится дальше чем в соседнюю ячейку.

Схема хранения частиц по ячейкам предназначена для эффективной параллельной обработки движения частиц, но в текущей версии программы такая возможность не реализована.