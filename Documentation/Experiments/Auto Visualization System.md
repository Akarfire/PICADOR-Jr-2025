#Experiment

### Описание 

Для визуализации результатов экспериментов была разработана система автоматической визуализации. Этот программный компонент анализирует выходные файлы модуля `DataSampler`, работающего в режиме `fileForEveryIteration`. По данным в указанных файлах система автоматически строит графики значений, для некоторых графиков генерируются анимации в формате `.gif`, отображающие систему в динамике.

### Выходные данные

При наличии в файлах необходимых данных возможно построение следующих графиков:
* График полной энергии системы;
* График энергии частиц;
* График энергии поля;
* Траектория частиц(ы);
* График(и) скорости частиц(ы);
* Графики значений электрического поле в зависимости от положения по оси $x$ (график для каждой итерации и анимация в формате `.gif`);
* Графики значений магнитного поле в зависимости от положения по оси $x$ (график для каждой итерации и анимация в формате `.gif`);
* Графики значений плотности тока в зависимости от положения по оси $x$ (график для каждой итерации и анимация в формате `.gif`).
* Графики плотности частиц в зависимости от положения по оси $x$ (график для каждой итерации и анимация в формате `.gif`).

### Запуск

Для запуска автоматической системы достаточно запустить файл `IntegratedVisualiation.bat` (в репозитории проекта находится по пути `Visualization/IntegratedVisualization`) из папки, где он находится. Файлы данных должны находится в подпапке `Files`, выходные данные будут помещены в подпапку `Output`.

### Реализация

Автоматическая визуализация реализована в виде скрипта на языке `Python` с использованием библиотек `matplotlib` и `Pillow`. 

Скрипт обходит все файлы в подпапке `Files`, анализирую их содержимое. Во время обхода строятся графики, необходимые для каждого отдельного файла: 
* график плотность частиц,
* графики компонент поля.
Данные, необходимые для остальных графиков (энергия поля, частиц и общая, положения и скорости частиц) сохраняются в датакласс `GlobalData`. После обхода файлов строятся графики для сохранённых данных. Затем графики отдельных файлов объединяются в анимации.